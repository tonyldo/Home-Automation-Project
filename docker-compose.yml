
  version: '3'

  services:
    mosquitto:
      build: .
      environment:
        - MOSQUITTO_USERNAME=${MOSQUITTO_USERNAME}
        - MOSQUITTO_PASSWORD=${MOSQUITTO_PASSWORD}
      container_name: mosquitto
      image: eclipse-mosquitto
      ports:
        - 1883:1883
        - 9001:9001
      volumes:
        - ~/.mosquitto/config/mosquitto.conf:/mosquitto/config/mosquitto.conf
        - ~/.mosquitto/data/:/mosquitto/data/
        - ~/.mosquitto/log/:/mosquitto/log/
        - ~/.mosquitto/pwd/:/mosquitto/pwd/
      restart: unless-stopped
